<ion-header>
  <ion-toolbar class="upper-toolbar">
   <ion-buttons slot="end" [routerLink]="['/search-page']" routerDirection='forward'>
      
      <img style="padding-right: 20px;" src="assets/imgs/search.png">
    </ion-buttons>
    <!-- <ion-title>
        V Ambassadors
      </ion-title> -->
  </ion-toolbar>
</ion-header>
<ion-header>
  <ion-toolbar class="lower-toolbar">
    <ion-buttons slot="start">
      <ion-button  [routerLink]="['/home']" routerDirection="back">
        &nbsp; &nbsp; < My Travel 
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end" >
      <ion-button (click)="goToCreateTravel()">
        <ion-icon slot="icon-only" name="add"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
    
</ion-header>

<ion-content>
  <!-- <p class="default-text bigger-text">{{ req.Name }}</p>
      <ion-button class="default-element-color set-to-right">
        <ion-icon name="arrow-forward"></ion-icon>
      </ion-button> -->
        <ion-segment [(ngModel)]="tType" mode="md" >
          <ion-segment-button value="upcoming">
            Upcoming Travels
          </ion-segment-button>
          <ion-segment-button value="past">
            Past Travels
          </ion-segment-button>
        </ion-segment>
        <div [ngSwitch]="tType">
          <div *ngSwitchCase="'upcoming'">
            <div *ngIf="upcomingRequests.length == 0" style="position: absolute; top: 40%; left: 30%;">
              <p>No Upcoming travel.</p>
            </div>
            <ion-card *ngFor="let req of upcomingRequests" style="margin-left: 0px;margin-right: 0px;margin-top: 0px;margin-bottom: 0px;">
              <!-- </ion-img> -->
              <ion-card-header>
                <!-- <ion-card-title>Destination: {{req.Destination}}</ion-card-title> -->
                <ion-row>
                  <ion-col>
                    <p class="default-text" style=" margin-top: 0px;margin-bottom: 0px; font-weight: 700;">
                      Destination: {{req.Destination}}
                    </p>
                  </ion-col>
                  <ion-col>
                    {{req.CreatedOn}}
                  </ion-col>
                </ion-row>
              </ion-card-header>
              <ion-card-content>
                <!-- <p class="default-text" style=" margin-top: 0px;margin-bottom: 0px; font-weight: 700;"> Request Sent Date:
                  {{req.CreatedOn}}</p> -->
                <p class="default-text" style=" margin-top: 0px;margin-bottom: 0px; font-weight: 700;"> Purpose:
                  {{req.Purpose}}</p>
                <p class="default-text" style=" margin-top: 0px;margin-bottom: 0px; font-weight: 700;"> Start:
                  {{req.StartDate}}</p>
                <p class="default-text" style=" margin-top: 0px;margin-bottom: 0px; font-weight: 700;"> End:
                  {{req.EndDate}}</p>
                <p class="default-text" style=" margin-top: 0px;margin-bottom: 0px; font-weight: 700;"
                  *ngIf="req.Remarks != 'undefined'">
                  Remarks:
                  {{req.Remarks}}</p>
                <p *ngIf="type == 'Poweruser'" class="default-text"
                  style=" margin-top: 0px;margin-bottom: 0px; font-weight: 700;">
                  Requested By:
                  {{req.Name}}</p>
                
              </ion-card-content>
              <p style="background: #0d2c6c; color: white; padding: 15px;" *ngIf="isStatusDisabled"><strong>Status: {{req.Status}}</strong></p>
              <ion-item class="status-select" *ngIf="!isStatusDisabled">
                <ion-label style="color: white;">Status: </ion-label>
                <ion-select placeholder="Select One" [(ngModel)]="req.Status" style="color:white"
                  (ionChange)='selectChange(req)'>
                  <ion-select-option value="Pending">Pending</ion-select-option>
                  <ion-select-option value="Rejected">Rejected</ion-select-option>
                  <ion-select-option value="Approved">Approved</ion-select-option>
                  <ion-select-option value="On-going">On-going</ion-select-option>
                  <ion-select-option value="Done">Done</ion-select-option>
                </ion-select>
              </ion-item>
                
                <!-- <ion-button horizontal="end">Save Changes</ion-button> -->
            </ion-card>
          </div>
          <div *ngSwitchCase="'past'">
            <div *ngIf="pastRequests.length == 0" style="position: absolute; top: 40%; left: 30%;">
              <p>No past travel.</p>
            </div>
            <ion-card *ngFor="let req of pastRequests" style="margin-left: 0px;margin-right: 0px;margin-top: 0px;margin-bottom: 0px;">
              <!-- </ion-img> -->
              <ion-card-header>
                <!-- <ion-card-title>Destination: {{req.Destination}}</ion-card-title> -->
                <ion-row>
                  <ion-col>
                    <p class="default-text" style=" margin-top: 0px;margin-bottom: 0px; font-weight: 700;">
                      Destination: {{req.Destination}}
                    </p>
                  </ion-col>
                  <ion-col>
                    {{req.CreatedOn}}
                  </ion-col>
                </ion-row>
              </ion-card-header>
              <ion-card-content>
                <!-- <p class="default-text" style=" margin-top: 0px;margin-bottom: 0px; font-weight: 700;"> Request Sent Date:
                  {{req.CreatedOn}}</p> -->
                <p class="default-text" style=" margin-top: 0px;margin-bottom: 0px; font-weight: 700;"> Purpose:
                  {{req.Purpose}}</p>
                <p class="default-text" style=" margin-top: 0px;margin-bottom: 0px; font-weight: 700;"> Start:
                  {{req.StartDate}}</p>
                <p class="default-text" style=" margin-top: 0px;margin-bottom: 0px; font-weight: 700;"> End:
                  {{req.EndDate}}</p>
                <p class="default-text" style=" margin-top: 0px;margin-bottom: 0px; font-weight: 700;"
                  *ngIf="req.Remarks != 'undefined'">
                  Remarks:
                  {{req.Remarks}}</p>
                <p *ngIf="type == 'Poweruser'" class="default-text"
                  style=" margin-top: 0px;margin-bottom: 0px; font-weight: 700;">
                  Requested By:
                  {{req.Name}}</p>
                
              </ion-card-content>
              <p style="background: #0d2c6c; color: white; padding: 15px;" *ngIf="isStatusDisabled"><strong>Status: {{req.Status}}</strong></p>
              <ion-item class="status-select" *ngIf="!isStatusDisabled">
                <ion-label style="color: white;">Status: </ion-label>
                <ion-select placeholder="Select One" [(ngModel)]="req.Status" style="color:white"
                  (ionChange)='selectChange(req)'>
                  <ion-select-option value="Pending">Pending</ion-select-option>
                  <ion-select-option value="Rejected">Rejected</ion-select-option>
                  <ion-select-option value="Approved">Approved</ion-select-option>
                  <ion-select-option value="On-going">On-going</ion-select-option>
                  <ion-select-option value="Done">Done</ion-select-option>
                </ion-select>
              </ion-item>
                
                <!-- <ion-button horizontal="end">Save Changes</ion-button> -->
            </ion-card>
          </div>
        </div>
  
</ion-content>
<app-footer-tab></app-footer-tab>